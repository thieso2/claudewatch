@@ -145,6 +145,7 @@
 
 			// Extract message content - can be string or array
 			var contentStr string
+			var toolName, toolInput string
 			msgType := entry.Message.Role
 
 			if content, ok := entry.Message.Content.(string); ok {
@@ -157,6 +158,18 @@
 					msgType = "tool_result"
 					// Extract tool result content
 					for _, item := range contentArr {
+						if itemMap, ok := item.(map[string]interface{}); ok {
+							// Extract tool name (if present)
+							if name, ok := itemMap["tool_name"].(string); ok {
+								toolName = name
+							}
+							// Extract tool input (if present)
+							if input, ok := itemMap["tool_input"].(string); ok {
+								toolInput = input
+							}
+						}
+					}
+					for _, item := range contentArr {
 						if itemMap, ok := item.(map[string]interface{}); ok {
 							if itemContent, ok := itemMap["content"].(string); ok {
 								contentStr = itemContent
@@ -184,6 +197,8 @@
 				msg := Message{
 					Role:      entry.Message.Role,
 					Content:   contentStr,
 					Timestamp: timestamp,
 					Type:      msgType,
+					ToolName:  toolName,
+					ToolInput: toolInput,
 				}
